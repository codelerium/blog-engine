!function(e){var r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t.w={},t(t.s=11)}([function(e,r){e.exports=require("babel-polyfill")},function(e,r){e.exports=require("cors")},function(e,r){e.exports=require("body-parser")},function(e,r){e.exports=require("express")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],n=!0,i=!1,u=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){i=!0,u=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw u}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function n(i,u){try{var o=r[i](u),a=o.value}catch(e){return void t(e)}if(!o.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});e(a)}("next")})}}r.resolvers=function(e,r){return{Query:{retrieveUser:(h=o(regeneratorRuntime.mark(function r(t,n){var i=n._id;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.findOne({_id:i});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,void 0)})),function(e,r){return h.apply(this,arguments)}),retrieveAllUsers:(m=o(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.find({}).toArray();case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,void 0)})),function(){return m.apply(this,arguments)}),retrieveArticle:(g=o(regeneratorRuntime.mark(function e(t,n){var i=n._id;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.findOne({_id:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,void 0)})),function(e,r){return g.apply(this,arguments)}),retrieveAllArticles:(v=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.find({}).toArray();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,void 0)})),function(){return v.apply(this,arguments)})},Mutation:{createUser:(d=o(regeneratorRuntime.mark(function r(t,n){var u=n._id,o=n.input;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.insert(i({_id:u},o));case 2:return r.next=4,e.findOne({_id:u});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}},r,void 0)})),function(e,r){return d.apply(this,arguments)}),updateUser:(f=o(regeneratorRuntime.mark(function r(t,o){var a=o._id,s=o.input;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.findOneAndUpdate({_id:a},Object.entries(s).reduce(function(e,r){var t=n(r,2),o=t[0],a=t[1];return e=i({},e,{$set:u({},o,a)})},{}));case 2:return r.next=4,e.findOne({_id:a});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}},r,void 0)})),function(e,r){return f.apply(this,arguments)}),deleteUser:(l=o(regeneratorRuntime.mark(function r(t,n){var i=n._id;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.remove({_id:i});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,void 0)})),function(e,r){return l.apply(this,arguments)}),deleteAllUsers:(p=o(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.remove({});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,void 0)})),function(){return p.apply(this,arguments)}),createArticle:(c=o(regeneratorRuntime.mark(function e(t,n){var u=n._id,o=n.input;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.insert(i({_id:u},o));case 2:return e.next=4,r.findOne({_id:u});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)})),function(e,r){return c.apply(this,arguments)}),updateArticle:(s=o(regeneratorRuntime.mark(function e(t,o){var a=o._id,s=o.input;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.findOneAndUpdate({_id:a},Object.entries(s).reduce(function(e,r){var t=n(r,2),o=t[0],a=t[1];return e=i({},e,{$set:u({},o,a)})},{}));case 2:return e.next=4,r.findOne({_id:a});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,void 0)})),function(e,r){return s.apply(this,arguments)}),deleteArticle:(a=o(regeneratorRuntime.mark(function e(t,n){var i=n._id;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.remove({_id:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,void 0)})),function(e,r){return a.apply(this,arguments)}),deleteAllArticles:(t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.remove({});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,void 0)})),function(){return t.apply(this,arguments)})}};var t,a,s,c,p,l,f,d,v,g,m,h}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.typeDefs=["\n    input UserInput {\n      email: String\n      password: String\n    }\n    type Comment {\n      _id: String\n      text: String\n      author_id: String\n    }\n    type User {\n      _id: String\n      email: String\n      password: String\n    }\n    input ArticleInput {\n      title: String\n      created: String\n      author_id: String\n      paragraphs: [String]\n    }\n    type Article {\n      _id: String\n      title: String\n      created: String\n      author_id: String\n      paragraphs: [String]\n    }\n    type Query {\n      retrieveUser(_id: String): User\n      retrieveAllUsers: [User]\n      retrieveArticle(_id: String): Article\n      retrieveAllArticles: [Article]\n    }\n    type Mutation {\n      createUser(_id: String, input: UserInput): User\n      updateUser(_id: String, input: UserInput): User\n      deleteUser(_id: String): Boolean\n      deleteAllUsers: Boolean\n      createArticle(_id: String, input: ArticleInput): Article\n      updateArticle(_id: String, input: ArticleInput): Article\n      deleteArticle(_id: String): Boolean\n      deleteAllArticles: Boolean\n    }\n    schema {\n      query: Query\n      mutation: Mutation\n    }\n  "]},function(e,r){e.exports=require("mongodb")},function(e,r){e.exports=require("graphql-tools")},function(e,r){e.exports=require("graphql-server-express")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.MONGO_CONN_STRING="mongodb://admin:admin@ds237848.mlab.com:37848/grapql-test"},function(e,r,t){"use strict";var n,i,u=t(9),o=t(8),a=t(7),s=t(6),c=t(5),p=t(4),l=v(t(3)),f=v(t(2)),d=v(t(1));function v(e){return e&&e.__esModule?e:{default:e}}t(0),(n=regeneratorRuntime.mark(function e(){var r,t,n,i,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.MongoClient.connect(u.MONGO_CONN_STRING);case 2:r=e.sent,t=r.db("grapql-test"),n=t.collection("User"),i=t.collection("Article"),v=(0,a.makeExecutableSchema)({typeDefs:c.typeDefs,resolvers:(0,p.resolvers)(n,i)}),(g=(0,l.default)()).use((0,d.default)()),g.use("/api",f.default.json(),(0,o.graphqlExpress)({schema:v})),g.use("/apis",(0,o.graphiqlExpress)({endpointURL:"/api"})),g.listen(3001,function(){console.log("Server started at http://localhost:3001")});case 12:case"end":return e.stop()}},e,void 0)}),i=function(){var e=n.apply(this,arguments);return new Promise(function(r,t){return function n(i,u){try{var o=e[i](u),a=o.value}catch(e){return void t(e)}if(!o.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});r(a)}("next")})},function(){return i.apply(this,arguments)})()},function(e,r,t){t(0),e.exports=t(10)}]);